<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Juliet&#39;s blog">
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/junlian.github.io/img/favicon.ico">

    <title>
        
        《鸟哥的Linux私房菜》 九 vim 程序编辑器 - 学 | 慢慢来
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/junlian.github.io/css/aircloud.css">
    <link rel="stylesheet" href="/junlian.github.io/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 所谓诚其意者，毋自欺也，如恶恶臭，如好好色，此之谓自谦，故君子必慎其独也。 ——摘《大学》 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/junlian.github.io/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>慎思之，笃行之</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/junlian.github.io/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/junlian.github.io/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/junlian.github.io/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/junlian.github.io/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-vim-的使用"><span class="toc-text">1 vim 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-一般指令模式命令"><span class="toc-text">1.1 一般指令模式命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-编辑模式命令"><span class="toc-text">1.2 编辑模式命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-指令行模式命令"><span class="toc-text">1.3 指令行模式命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-vim-暂存档"><span class="toc-text">1.4 vim 暂存档</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-编辑辅助功能"><span class="toc-text">2 编辑辅助功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-区块选择-Visual-Block"><span class="toc-text">2.1 区块选择 Visual Block</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-多文件编辑"><span class="toc-text">2.2 多文件编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-多窗口编辑"><span class="toc-text">2.3 多窗口编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-挑字补全"><span class="toc-text">2.4 挑字补全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-vim-环境设置与记录：-vimrc-viminfo"><span class="toc-text">2.5 vim 环境设置与记录：~/.vimrc, ~/.viminfo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-编码问题"><span class="toc-text">3 编码问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-中文乱码"><span class="toc-text">3.1 中文乱码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-DOS-与-Linux-的断行字符"><span class="toc-text">3.2 DOS 与 Linux 的断行字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-语系编码转换"><span class="toc-text">3.3 语系编码转换</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 所谓诚其意者，毋自欺也，如恶恶臭，如好好色，此之谓自谦，故君子必慎其独也。 ——摘《大学》 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        《鸟哥的Linux私房菜》 九 vim 程序编辑器
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2020-04-14 18:54:50</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/junlian.github.io/tags/#Linux" title="Linux">Linux</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <p>在 Linux 系统中使用文本编辑器来编辑 Linux 参数配置文件，即用文本模式处理 Linux 系统的设定问题，更能保证你的修改可以顺利运行。像系统管理员的重要工作之一就是修改、设定某些重要软件的配置文件，通常使用文字接口的文本编辑器。</p>
<p>Linux 中绝大部分配置文件都是以 ASCII 纯文本形式存在。纯文本档就是，该文件实际记录的是 0 和 1，通过编码系统可以将这些 0 和 1 转成我们认识的文字。ASCII 就是一种文字编码系统。</p>
<p>相比其他 Linux 文字接口下的文本编辑器，vi 的特别在：</p>
<ul>
<li>所有 Unix Like 系统都会内建 vi 文本编辑器；</li>
<li>很多软件的编辑接口都会主动呼叫 vi。这个很重要，有太多 Linux 上的指令都默认使用 vi 作为数据编辑的接口；</li>
<li>vim 有程序编辑能力；</li>
<li>因为程序简单，编辑速度相当快速。</li>
</ul>
<p>vim 是 vi 的进阶版本，可以用颜色和底线等方式显示一些特殊信息。vim 也是一款程序编辑器，再编辑脚本程序时，vim 会根据文件的扩展名或文件内的开头信息判断该文件的内容，自动呼叫该程序的语法判断式，再以颜色来显示程序代码与一般信息。甚至一些 Linux 基础配置文件内的语法，都能够用 vim 来检查。作为一个程序开发工具，vim 还加入了很多额外的功能，比如支持正则表示法的搜寻架构、多文件编辑、区块复制等。</p>
<p>大部分 vi 都已经被 vim 取代了，如果使用 vi 后，发现右下角有显示目前光标所在的行列号码，那么该 vi 就已经被 vim 取代了。</p>
<h1 id="1-vim-的使用"><a href="#1-vim-的使用" class="headerlink" title="1 vim 的使用"></a>1 vim 的使用</h1><p>vim 分三种指令模式：</p>
<ul>
<li>一般指令模式（Command mode）：默认模式，也称一般模式，以 vi 打开一个文件直接进入的就是一般指令模式。该模式下可以用「上下左右」按键移动光标，可以用「删除字符」或「删除整行」来处理文件内容，也可以用「复制、粘贴」来处理文件数据，<strong>但无法编辑文件内容</strong>；</li>
<li>编辑模式（Insert mode）：按下「i, I, o, O, a, A, r, R」任何一个字母后进入编辑模式，此时在左下方会出现「INSERT」或「RERPLACE」字样。如果要回到一般指令模式，按下「Esc」即可退出编辑模式；</li>
<li>指令行命令模式（Command-line mode）：在一般模式中，可输入「: / ?」中任何一个进入指令列命令模式，此时光标移动到最底下一行。这个模式中，可以完成搜索，读取、存盘、大量取代字符、离开 vi、显示行号等动作。按下「Esc」返回一般指令模式。</li>
</ul>
<p>注意编辑模式和指令行命令模式之间不可相互切换。编辑画面分两部分，上半部分显示的是文件的实际内容，最底下一行则是状态显示栏，或命令下达行，显示的状态包括文件名、文件总行数、文件总字符数、光标所在行号列号、画面占整体文件的百分比。</p>
<h2 id="1-1-一般指令模式命令"><a href="#1-1-一般指令模式命令" class="headerlink" title="1.1 一般指令模式命令"></a>1.1 一般指令模式命令</h2><p><strong>移动光标：</strong></p>
<ul>
<li><code>h/j/k/l 或 左/下/上/右箭头</code> ：光标向左/下/上/右移动一个字符；</li>
<li><code>30h/j/k/l 或 30左/下/上/右箭头</code> ：光标移动 30 个字符；</li>
<li><code>Ctrl + f</code> ：屏幕向下移动一页，相当于 Page Down；</li>
<li><code>Ctrl + b</code> ：屏幕向上移动一页，相当于 Page Up；</li>
<li><code>Ctrl + d</code> ：屏幕向下移动半页；</li>
<li><code>Ctrl + u</code> ：屏幕向上移动半页；</li>
<li><code>+</code> ：光标移到非空格符的下一行；</li>
<li><code>-</code> ：光标移到非空格符的上一行；</li>
<li><code>30&lt;space&gt;</code> ：光标右移30个字符；</li>
<li><code>0 或 功能键&lt;Home&gt;</code> ：移到该行最前面的字符处；</li>
<li><code>$ 或 功能键&lt;End&gt;</code> ：移到该行最后面的字符处；</li>
<li><code>H</code> ：移到屏幕最上面一行的第一个字符；</li>
<li><code>M</code> ：移到屏幕中间一行的第一个字符：</li>
<li><code>L</code> ：移到屏幕最下面一行的第一个字符；</li>
<li><code>G</code> ：移到文件最后一行；</li>
<li><code>30G</code> ：移到文件第 30 行；</li>
<li><code>gg</code> ：移到文件第一行，相当于 <code>1G</code>；</li>
<li><code>30&lt;Enter&gt;</code> ：光标向下移动 30 行；</li>
</ul>
<p><strong>搜索和替换</strong>：</p>
<ul>
<li><code>/word</code> ：在光标位置之后找字符串 word；</li>
<li><code>?word</code> ：在光标位置之前找字符串 word；</li>
<li><code>n</code> ：重复前一个搜索动作，继续向上/向下找字符串 word；</li>
<li><code>N</code> ：与 n 相反，进行与前一个搜索动作反向的搜索，若前一个是向下找，则 N 表示向上找；</li>
<li><code>:n1,n2s/word1/word2/g</code> ：在第 n1 到 n2 行之间找 word1，并将其替换为 word2；</li>
<li><code>:1,$s/word1/word2/g</code> ：在第一行到最后一行之间找 word1，并将其替换为 word2；</li>
<li><code>:1,$s/word1/word2/gc</code> ：替换前显示提示字符给用户确认（Confirm）是否需要取代；</li>
</ul>
<p><strong>删除、复制和粘贴</strong>：</p>
<ul>
<li><code>x</code> ：向后删除一个字符，相当于「del」按键；</li>
<li><code>X</code> ：向前删除一个字符，相当于「backspace」；</li>
<li><code>30x</code> ：向后删除 30 个字符；</li>
<li><code>dd</code> ：删除光标所在整行；</li>
<li><code>30dd</code> ：从光标位置开始，删除 30 行；</li>
<li><code>d1G</code> ：删除从第一行到光标所在行的所有行数据；</li>
<li><code>dG</code> ：删除从光标所在行到最后一行的所有行数据；</li>
<li><code>d$</code> ：删除光标所在处到该行末尾的所有字符；</li>
<li><code>d0</code> ：删除该行第一个字符到光标所在处的所有字符；</li>
<li><code>yy</code> ：复制光标所在整行；</li>
<li><code>30yy</code> ：从光标位置开始，复制 30 行；</li>
<li><code>y1G</code> ：复制从第一行到光标所在行的所有行数据；</li>
<li><code>yG</code> ：复制从光标所在行到最后一行的所有行数据；</li>
<li><code>y$</code> ：复制光标所在处到该行末尾的所有字符；</li>
<li><code>y0</code> ：复制该行第一个字符到光标所在处的所有字符；</li>
<li><code>p</code> ：将已复制的数据粘贴在光标的下一行 / 光标之后；</li>
<li><code>P</code> ：将已复制的数据粘贴在光标的上一行 / 光标之前；</li>
<li><code>J</code> ：将光标所在行和下一行合并成一行；</li>
<li><code>c</code> ：重复删除多个数据，例如要向下删除 30 行，输入 <code>30cj</code></li>
<li><code>u</code> ：复原前一个动作；</li>
<li><code>Ctrl+r</code> ：重做上一个动作；</li>
<li><code>.</code>：重复上一个动作；</li>
</ul>
<h2 id="1-2-编辑模式命令"><a href="#1-2-编辑模式命令" class="headerlink" title="1.2 编辑模式命令"></a>1.2 编辑模式命令</h2><p>进入插入 / 取代的编辑模式；</p>
<ul>
<li><code>i / I</code> ：进入插入模式（Insert mode），<code>i</code> 为从目前光标处插入， <code>I</code> 为在当前行的第一个非空格符处开始插入；</li>
<li><code>a / A</code> ：进入插入模式（Insert mode），<code>a</code> 为从光标所在处的下一个字符开始插入，<code>A</code> 为从光标所在行的最后一个字符处插入；</li>
<li><code>o / O</code> ：进入插入模式（Insert mode），<code>o</code> 在光标所在的下一行处插入新的一行，<code>O</code> 为在目前光标所在处的上一行插入新的一行；</li>
<li><code>r / R</code> ：进入取代模式（Replace mode），<code>r</code> 只会取代光标所在字符一次，<code>R</code> 会一直取代光标所在字符，直到按下「ESC」为止。</li>
</ul>
<h2 id="1-3-指令行模式命令"><a href="#1-3-指令行模式命令" class="headerlink" title="1.3 指令行模式命令"></a>1.3 指令行模式命令</h2><ul>
<li><code>:w</code> ：write 将编辑的数据写入硬盘中；</li>
<li><code>:q</code> ：离开 quit vi；</li>
<li><code>:q!</code> ：修改过文件，又不想存储修改内容；</li>
<li><code>:wq</code> ：存档并离开；</li>
<li><code>:wq!</code> ：当文件权限不允许写入，且<strong>你的权限可以改变</strong>时，可以加 ! 强制写入；</li>
<li><code>ZZ</code> ：若文件没改动，则不存储离开，若文件改动，则存储后离开；</li>
<li><code>:w [filename]</code> ：另存为新文件；</li>
<li><code>:r [filename]</code> ：在光标所在行后，添加另一个文件的数据；</li>
<li><code>:n1,n2 w [filename]</code> ：将 n1 到 n2 的内容存储为 filename 文件；</li>
<li><code>:! command</code> ：暂时离开 vi 到指令行模式下执行 command 的显示结果；</li>
<li><code>:set nu</code> ：vim 坏境变更，显示行号；</li>
<li><code>set nonu</code> ：取消行号。</li>
</ul>
<h2 id="1-4-vim-暂存档"><a href="#1-4-vim-暂存档" class="headerlink" title="1.4 vim 暂存档"></a>1.4 vim 暂存档</h2><p>使用 vim 编辑时，vim 会主动在同一目录下建立一个名为 .filename.swp 的暂存档，用来记录用户对文件的动作。如果系统因为某些原因断线，编辑的文件没有被存储，而暂存档由于没有经正常流程结束，所以被继续保留。此时如果继续编辑文件，由于暂存档存在，vim 会主动判断这个文件可能有些问题，在警告讯息里有六个可用按钮：</p>
<ul>
<li>[O]pen Read-Only：当其他人在编辑时，只想查看文件内容；</li>
<li>[E]dit anyway：用正常方式打开，不载入暂存档，很不好，容易出现两个使用者相互改变对方文件的问题；</li>
<li>[R]ecover：如果之前的 vim 处理动作尚未存储，可以按下 R 载入 .filename.swp 的内容进行救援，注意需要手动删除暂存档；</li>
<li>[D]elete it：如果确定暂存档没用，可以直接按下 (D)elete ，将原文件载入，删除旧的 .filename.swp，建立新的 .filename.swp；</li>
<li>[Q]uit：离开，回到命令提示符；</li>
<li>[A]bort：忽略这个编辑行为，与 Quit 非常类似。</li>
</ul>
<h1 id="2-编辑辅助功能"><a href="#2-编辑辅助功能" class="headerlink" title="2 编辑辅助功能"></a>2 编辑辅助功能</h1><h2 id="2-1-区块选择-Visual-Block"><a href="#2-1-区块选择-Visual-Block" class="headerlink" title="2.1 区块选择 Visual Block"></a>2.1 区块选择 Visual Block</h2><p>操作一个区块范围，而不是以行为单位操作。按下 v / V / Ctrl+v 时，光标移动过的位置会出现反白：</p>
<ul>
<li><code>v</code> ：字符选择；</li>
<li><code>V</code> ：行选择；</li>
<li><code>Ctrl + v</code> ：长方形区块选择；</li>
<li><code>y</code> ：将反白的地方复制；</li>
<li><code>d</code> ：将反白的地方删除；</li>
<li><code>p</code> ：在光标处粘贴刚刚复制的区块。</li>
</ul>
<h2 id="2-2-多文件编辑"><a href="#2-2-多文件编辑" class="headerlink" title="2.2 多文件编辑"></a>2.2 多文件编辑</h2><p>要将 A 文件中的部分内容移动到 B 文件中时，可以通过在 vim 后面接好几个文件同时编辑多个文件：</p>
<ul>
<li><code>:n</code> ：编辑下一个文件；</li>
<li><code>:N</code> ：编辑上一个文件；</li>
<li><code>:files</code> ： 列出目前这个 vim 开启的所有文件；</li>
</ul>
<p>也可以通过下面的多窗口编辑完成。</p>
<h2 id="2-3-多窗口编辑"><a href="#2-3-多窗口编辑" class="headerlink" title="2.3 多窗口编辑"></a>2.3 多窗口编辑</h2><p>当需要对照着看多个文件，或将一个非常大的文件分区成多个窗口展现时，可以在指令列模式输入 <code>:sp {filename}</code> 即可，如果想在新窗口启动另一个文件，就加入 filename，否则只输入 <code>:sp</code> 时，同一个文件会出现在两个窗口：</p>
<ul>
<li><code>:sp {filename}</code> ：开启新窗口，可以是不同文件；</li>
<li><code>Ctrl + w + j / Ctrl + w + 下键</code> ：光标移动到下方窗口；</li>
<li><code>Ctrl + w + k / Ctrl + w + 上键</code> ：光标移动到上方窗口；</li>
<li><code>Ctrl + w + q</code> ：结束光标所在窗口。</li>
</ul>
<h2 id="2-4-挑字补全"><a href="#2-4-挑字补全" class="headerlink" title="2.4 挑字补全"></a>2.4 挑字补全</h2><p>vim 补齐功能：</p>
<ul>
<li><code>Ctrl + x -&gt; Ctrl + n</code> ：以目前编辑的文件内容文字作为关键词，予以补齐；</li>
<li><code>Ctrl + x -&gt; Ctrl + f</code> ：以当前目录内的文件名作为关键词，予以补齐；</li>
<li><code>Ctrl + x -&gt; Ctrl + o</code> ：以扩展名作为语法补充，以 vim 内建的关键词，予以补齐；</li>
</ul>
<h2 id="2-5-vim-环境设置与记录：-vimrc-viminfo"><a href="#2-5-vim-环境设置与记录：-vimrc-viminfo" class="headerlink" title="2.5 vim 环境设置与记录：~/.vimrc, ~/.viminfo"></a>2.5 vim 环境设置与记录：~/.vimrc, ~/.viminfo</h2><p>~/.viminfo 中记录的是用户在 vim 里做过的动作，比如搜索某一字符串后，在编辑其他文件时这个字符串还会主动反白；在第二次进入文件时，光标仍在上次离开的位置，这些动作的记录都存在自动产生的 ~/.viminfo 文件中。</p>
<p>~/.vimrc 用来存放 vim 的预设环境值。整体 vim 的设定值一般放置在 /etc/vimrc 中，不建议直接对其进行修改。如果通过配置文件设定习惯的 vim 操作环境，可以修改 ~/.vimrc，该文件预设不存在，需要手动建立。文件中的双引号 “ 是批注符号。</p>
<p>vim 的环境设置参数有很多，可以通过在一般指令模式输入 <code>:set all</code> 来查看当前的设定值。常用的环境设置参数如下：</p>
<ul>
<li><code>:set nu / :set nonu</code> ：设置或取消行号；</li>
<li><code>:set hlsearch / :set nohlsearch</code> ：high light search 高亮度搜寻，是否将搜寻的字符串进行反白显示；</li>
<li><code>:set autoindent / :set noautoindent</code> ： 是否自动缩排。缩排就是按下 Enter 编辑下一行时，光标不会在行首，而是在与上一列的第一个非空格符处对齐；</li>
<li><code>:set backup</code> ：是否自动存储备份档。一般是 nobackup，如果是backup，那么变动任何一个文件时，源文件会被另存为一个名叫 filename~ 的文件，记录原始的 filename 文件内容；</li>
<li><code>:set ruler</code> ：是否显示右下角的状态栏说明；</li>
<li><code>:set showmode</code> ：是否显示 INSERT 之类的说明在左下角；</li>
<li><code>:set backspace=(012)</code> ：一般 backspace 为 2 ，表示在按下 i 进入编辑模式后，可以利用退格键 backspace 删除任意字符；若 backspace 为 1 ，表示只能删除刚刚输入的字符，无法删除原本存在的字符；</li>
<li><code>:set all</code> ：显示目前所有环境参数设置值；</li>
<li><code>:set</code> ：显示与系统默认值不同的参数设置值，一般来说就是用户自行变动过的参数设置；</li>
<li><code>:syntax on / :syntax off</code> ：是否依据程序相关语法显示不同颜色，如果是程序， syntax on 可以主动帮用户除错，如果仅是编写纯文本文件，可以 off 掉 syntax 避免颜色对屏幕产生干扰；</li>
<li><code>:set bg=dark / :set bg=light</code> ：显示不同颜色色调，预设是 light，如果批注的字体深蓝色很不容易看，可以设为 dark。</li>
</ul>
<h2 id="3-编码问题"><a href="#3-编码问题" class="headerlink" title="3 编码问题"></a>3 编码问题</h2><h3 id="3-1-中文乱码"><a href="#3-1-中文乱码" class="headerlink" title="3.1 中文乱码"></a>3.1 中文乱码</h3><p>中文编码有 big5 和 utf8 两种，如果中文文件内容显示一堆乱码，那么要考虑：</p>
<ul>
<li>Linux 系统默认支持的语系数据，与 /etc/locale.conf 有关；</li>
<li>终端界面 bash 的语系，与 LANG，LC_ALL 等变量有关；</li>
<li>文件原本的编码；</li>
<li>开启终端的软件，例如在 GNOME 底下的窗口接口。</li>
</ul>
<p>Linux 本机前 tty1~tty6 原本默认就不支持中文编码。假设文件内编码为 big5，环境使用 Linux 的 GNOME，启动终端接口为 GNOME-terminal 软件，则可以通过下面的命令修正语系编码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LANG=zh_TW.big5</span><br><span class="line"><span class="built_in">export</span> LC_ALL=zh_TW.big5</span><br></pre></td></tr></table></figure></p>
<p>然后在终端接口工具栏依次点选 「终端机」-&gt; 「设置字符编码」-&gt; 「中文（正体）（BIG5）」</p>
<h3 id="3-2-DOS-与-Linux-的断行字符"><a href="#3-2-DOS-与-Linux-的断行字符" class="headerlink" title="3.2 DOS 与 Linux 的断行字符"></a>3.2 DOS 与 Linux 的断行字符</h3><p>DOS (Windows系统) 建立的文件的断行符号为 ^M$，是 CR 和 LF 两个符号，而 Linux 只有 LF ($) 一个断行符号。Linux 下的指令判断开始执行的依据是 「Enter」，而 Linux 的「Enter」就是 LF 符号。 如果是一个 shell script 的程序文件，由于 DOS 的断行符号多了一个 ^M，会造成程序无法执行，可以通过下列指令将断行格式转换成 Linux：</p>
<p><code>dos2unix [-kn] file [newfile]</code><br><code>unix2dos [-kn] file [newfile]</code></p>
<ul>
<li><code>-k</code> ：保留该文件原本的 mtime 时间格式，不更新文件上次内容经过修订的时间；</li>
<li><code>-n</code> ：保留原本的旧档，将转换后的内容输出到新文件。</li>
</ul>
<p>因为断行字符和 DOS 与 Linux 操作系统下的一些字符定义不同，所以不建议在 Windows 系统中将文件编辑好之后才上传到 Linux 系统，容易发生错误。在不同系统间复制纯文本文件时，一定要记得用 unix2dos 或 dos2unix 转换一下断行格式</p>
<h3 id="3-3-语系编码转换"><a href="#3-3-语系编码转换" class="headerlink" title="3.3 语系编码转换"></a>3.3 语系编码转换</h3><p>用 <code>iconv</code> 转换文件的语系编码：</p>
<p><code>iconv --list</code><br><code>iconv -f 原编码 -t 新编码 filename [-o newfile]</code></p>
<ul>
<li><code>--list</code> ：列出 iconv 支持的语系数据；</li>
<li><code>-f</code> ：from，后接原本的编码格式；</li>
<li><code>-t</code> ：to，新编码格式；</li>
<li><code>-o file</code> ：如果要保留原本的文件，使用 -o 建立新编码文件；</li>
</ul>
<p>如将 big5 的 vi.big5 文件转成 utf8 编码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iconv -f big5 -t utf8 vi.big5 -o vi.utf8</span><br><span class="line">file vi* <span class="comment"># 查看文件编码和断行字符</span></span><br></pre></td></tr></table></figure></p>
<p>将 vi.utf8 转成简体的 utf8：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iconv -f utf8 -t big5 vi.utf8 | iconv -f big5 -t gb2312 | iconv -f gb2312 -t utf8 -o vi.gb.utf8</span><br></pre></td></tr></table></figure></p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->

</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/junlian.github.io/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/junlian.github.io/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
